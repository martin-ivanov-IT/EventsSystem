@using EventsSystem.Common
@model EventsSystem.Web.ViewModels.Home.IndexViewModel
    <section class="page-section portfolio ">
        <div class="container">
            @foreach (var ev in Model.EventsByCity)
            {

            <div class="list-group ">
                <a asp-controller="Events" asp-action="ById" asp-route-id="@ev.Id" class=" col-md-5 mt-5 mb-2 list-group-item list-group-item-action flex-column align-items-start active">
                    <div class="d-flex w-100 justify-content-between">
                        <h5 class="mb-1">@ev.Name</h5>
                        <small>@ev.Time</small>
                    </div>
                    <small>@ev.Place.City</small>
                </a>
            </div>   
        
        }
        </div>

        <nav>
            <ul class="pagination justify-content-center">

                @if (this.Model.EventsByCity.ElementAt(0).CurrentPage == 1)
                {
                    <li class="page-item disabled">
                        <a class="page-link" href="#">Previous</a>
                    </li> }

                else
                {
                     <li class="page-item">
                         <a class="page-link"
                            asp-route="allEventsByCity"
                            asp-route-page="@(this.Model.EventsByCity.ElementAt(0).CurrentPage - 1)">Previous</a>
                     </li>}


                @for (int i = 1; i <= this.Model.EventsByCity.ElementAt(0).PagesCount; i++)
                {
                    var active = i == this.Model.EventsByCity.ElementAt(0).CurrentPage ? "active" : string.Empty;
                    <li class="page-item @active">
                        <a class="page-link"
                           asp-route="allEventsByCity"
                           asp-route-page="@i">@i</a>
                    </li>}

                @if (this.Model.EventsByCity.ElementAt(0).CurrentPage == this.Model.EventsByCity.ElementAt(0).PagesCount)
                {
                     <li class="page-item disabled">
                         <a class="page-link" href="#">Next</a>
                     </li> }
                else
                {
                     <li class="page-item">
                         <a class="page-link"
                            asp-route="allEventsByCity"
                            asp-route-page="@(this.Model.EventsByCity.ElementAt(0).CurrentPage + 1)">Next</a>
                     </li>}

            </ul>
        </nav>
    </section>

    <section class="page-section" id="contact">
    </section>
